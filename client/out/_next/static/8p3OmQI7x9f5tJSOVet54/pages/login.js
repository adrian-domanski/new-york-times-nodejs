(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{O2ls:function(e,t,a){"use strict";a.r(t);var n=a("ln6h"),s=a.n(n),o=a("q1tI"),r=a.n(o),c=a("CafY"),i=a("ttZb"),u=a("LECZ"),l=a("YNR7"),m=a("nOHt"),p=r.a.createElement;t.default=function(){var e=Object(o.useState)("john@gmail.com"),t=e[0],a=e[1],n=Object(o.useState)("john123"),r=n[0],f=n[1],d=Object(o.useState)(""),g=d[0],h=d[1],v=Object(o.useState)(""),b=v[0],w=v[1],N=Object(o.useState)(""),_=N[0],O=N[1],j=Object(i.c)(u.b,{skip:!0}).refetch,E=Object(o.useState)(),S=E[0],y=E[1],C=Object(o.useContext)(l.a),k=C.authContext.isAuth,L=C.dispatch,T=Object(m.useRouter)();Object(o.useEffect)((function(){k&&T.push("/articles")}),[k]),Object(o.useEffect)((function(){return clearTimeout(S)}));var x=function(e){var t=e.target,n=t.value;switch(t.name){case"email":return function(e){if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))return h("Email must have @ and .");h("")}(n),a(n);case"password":return function(e){if(e.length<3)return w("Password must have at least 3 chars");w("")}(n),f(n);default:return null}};return p(c.a,null,p("div",{className:"login-page container"},p("div",{className:"login-page-container"},p("h1",{className:"login-page__title"},"Log in"),p("div",{className:"login-page__info"},"To begin your journey with the New York Times Articles, please authenticate yourself."),p("form",{onSubmit:function(e){!function(e){var a,n;s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e.preventDefault(),o.prev=1,o.next=4,s.a.awrap(j({password:r,email:t}));case 4:a=o.sent,n=a.data,L({type:"LOGIN_SUCCESS",payload:n.login}),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(1),o.t0.graphQLErrors?(c=o.t0.graphQLErrors[0].message,O(c),y(setTimeout((function(){O("")}),5e3))):console.log(o.t0);case 12:case"end":return o.stop()}var c}),null,null,[[1,9]])}(e)},className:"login-page__form"},_?p("div",{className:"login-alert"},_,p("button",{onClick:function(){return O("")},className:"alert-close"},p("i",{className:"fas fa-times"}))):null,p("div",{className:"form-control"},p("div",{className:"input-error ".concat(g?"active":"")},g),p("input",{type:"email",name:"email",className:"login-form__input",value:t,onChange:x,placeholder:"Email..."})),p("div",{className:"form-control"},p("div",{className:"input-error ".concat(b?"active":"")},b),p("input",{type:"password",name:"password",value:r,className:"login-form__input",onChange:x,placeholder:"Password..."})),p("input",{type:"submit",disabled:!(!b&&!g),className:"btn btn--submit",value:"Log In"})))))}},u6Hu:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a("O2ls")}])}},[["u6Hu",1,2,0,3,5,4]]]);