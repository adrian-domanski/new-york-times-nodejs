{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Dsvi:function(e,t,a){\"use strict\";a.r(t);var n=a(\"ln6h\"),r=a.n(n),s=a(\"p0XB\"),c=a.n(s);var o=a(\"XXOK\"),i=a.n(o),u=a(\"yLu3\"),l=a.n(u);function p(e,t){return function(e){if(c()(e))return e}(e)||function(e,t){if(l()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,s=void 0;try{for(var c,o=i()(e);!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(u){r=!0,s=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return a}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var f=a(\"q1tI\"),m=a.n(f),v=a(\"CafY\"),d=a(\"ttZb\"),b=a(\"LECZ\"),g=a(\"YNR7\"),h=a(\"nOHt\"),w=m.a.createElement;t.default=function(){var e=Object(f.useState)(\"\"),t=e[0],a=e[1],n=Object(f.useState)(\"\"),s=n[0],c=n[1],o=Object(f.useState)(\"\"),i=o[0],u=o[1],l=Object(f.useState)(\"\"),m=l[0],N=l[1],_=Object(f.useState)(\"\"),y=_[0],j=_[1],O=Object(f.useState)(),E=O[0],S=O[1],C=p(Object(d.b)(b.c),1)[0],T=Object(f.useContext)(g.a),x=T.authContext.isAuth,A=T.dispatch,k=Object(h.useRouter)();Object(f.useEffect)((function(){x&&k.push(\"/articles\")}),[x]),Object(f.useEffect)((function(){return clearTimeout(E)}));var R=function(e){var t=e.target,n=t.value;switch(t.name){case\"email\":return function(e){if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(e))return u(\"Email must have @ and .\");u(\"\")}(n),a(n);case\"password\":return function(e){if(e.length<3)return N(\"Password must have at least 3 chars\");N(\"\")}(n),c(n);default:return null}};return w(v.a,null,w(\"div\",{className:\"login-page container\"},w(\"div\",{className:\"login-page-container\"},w(\"h1\",{className:\"login-page__title\"},\"Register\"),w(\"div\",{className:\"login-page__info\"},\"To begin your journey with the New York Times Articles, please authenticate yourself.\"),w(\"form\",{onSubmit:function(e){!function(e){var a,n;r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),c.prev=1,c.next=4,r.a.awrap(C({variables:{email:t,password:s}}));case 4:a=c.sent,n=a.data,A({type:\"REGISTER_SUCCESS\",payload:n.register}),console.log(n),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),c.t0.graphQLErrors?(o=c.t0.graphQLErrors[0].message,j(o),S(setTimeout((function(){j(\"\")}),5e3))):console.log(c.t0);case 13:case\"end\":return c.stop()}var o}),null,null,[[1,10]])}(e)},className:\"login-page__form\"},y?w(\"div\",{className:\"login-alert\"},y,w(\"button\",{onClick:function(){return j(\"\")},className:\"alert-close\"},w(\"i\",{className:\"fas fa-times\"}))):null,w(\"div\",{className:\"form-control\"},w(\"div\",{className:\"input-error \".concat(i?\"active\":\"\")},i),w(\"input\",{type:\"email\",name:\"email\",className:\"login-form__input\",value:t,onChange:R,placeholder:\"Email...\"})),w(\"div\",{className:\"form-control\"},w(\"div\",{className:\"input-error \".concat(m?\"active\":\"\")},m),w(\"input\",{type:\"password\",name:\"password\",value:s,className:\"login-form__input\",onChange:R,placeholder:\"Password...\"})),w(\"input\",{type:\"submit\",disabled:!(!m&&!i),className:\"btn btn--submit\",value:\"Create Account\"})))))}},\"c05+\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/register\",function(){return a(\"Dsvi\")}])}},[[\"c05+\",1,2,0,3,5,4]]]);"}